<div *ngIf="user" id="content-edit-user" fxLayout="column" [ngClass.xs]="'components-container-xs'" fxLayoutGap="20px">
  <div fxFlex class="input-component-holder mat-elevation-z4">
    <mat-toolbar class="input-header">
      <h1 class="mat-headline center-align">Editar usuario</h1>
    </mat-toolbar>

    <div class="input-container">

      <form [formGroup]="editUserForm" (ngSubmit)="editUser()" autocomplete="on">

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">

          <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
            <h4 class="mat-subheading-2 center-align">Nombre</h4>
            <mat-divider></mat-divider>
            <mat-form-field>
              <input matInput type="text" formControlName="name" placeholder="Nombre" [ngModel]="user.name">
            </mat-form-field>
            <div *ngIf="submitted && form.name.errors">
              <mat-error *ngIf="form.name.errors.required">El nombre es obligatorio</mat-error>
              <mat-error *ngIf="form.name.errors.minlength">El nombre debe tener al menos 3 caracteres</mat-error>
              <mat-error *ngIf="form.name.errors.maxlength">El nombre debe tener a lo sumo 50 caracteres</mat-error>
            </div>
          </div>

          <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
            <h4 class="mat-subheading-2 center-align">Apellido</h4>
            <mat-divider></mat-divider>
            <mat-form-field>
              <input matInput type="text" formControlName="lastname" placeholder="Apellido" [ngModel]="user.lastname">
            </mat-form-field>
            <div *ngIf="submitted && form.lastname.errors">
              <mat-error *ngIf="form.lastname.errors.required">El apellido es obligatorio</mat-error>
              <mat-error *ngIf="form.lastname.errors.minlength">El apellido debe tener al menos 3 caracteres</mat-error>
              <mat-error *ngIf="form.lastname.errors.maxlength">El apellido debe tener a lo sumo 50 caracteres</mat-error>
            </div>
          </div>

        </div>

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">

          <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
              <h4 class="mat-subheading-2 center-align">Email</h4>
              <mat-divider></mat-divider>
              <mat-form-field>
                <input matInput type="email" formControlName="email" placeholder="Email" [ngModel]="user.email">
              </mat-form-field>
              <div *ngIf="submitted && form.email.errors">
                <mat-error *ngIf="form.email.errors.required">El email es obligatorio</mat-error>
                <mat-error *ngIf="form.email.errors.minlength">El email debe tener al menos 3 caracteres</mat-error>
                <mat-error *ngIf="form.email.errors.maxlength">El email debe tener a lo sumo 50 caracteres</mat-error>
              </div>
            </div>

            <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
              <h4 class="mat-subheading-2 center-align">Seleccione una imagen</h4>
              <mat-divider></mat-divider>
              <input id="imageInput" type="file" formControlName="image" #fileInput>
              <button mat-raised-button id="imageButton" type="button" color="primary" (click)="fileInput.click()">Seleccionar Imagen</button>
              <div>La imagen es opcional</div>
            </div>

        </div>

        <div id="posMatDivider">
          <mat-divider></mat-divider>
        </div>

        <div class="optionButtons">
          <!-- Aca podria agregar un form asi cuando se presiona enter se cargan los datos automaticamente -->
          <button mat-raised-button id="confirmButton" type="submit" color="primary">Confirmar</button>
          <button mat-raised-button id="cancelButton" color="primary" [routerLink]="['/home']">Cancelar</button>
        </div>

      </form>

    </div>

  </div>
</div>

<div class="spinner-container" *ngIf="!user">
  <mat-spinner class="spinner-content"></mat-spinner>
</div>
